<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='styles.css') }}">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/4.5.0/fabric.min.js"></script>
</head>
<body>
    <canvas id="drawingcanvas" width="500" height="550"></canvas>
    <input type="text" id="quoteinput" placeholder="Enter your quote">
    <button onclick="addQuote()">Add</button>

    <script>
        var canvas = new fabric.Canvas('drawingcanvas', {
            backgroundColor: '#f1faee'
        });
    </script>
    <script>
        var line, isDrawing;

        canvas.on('mouse:down', function(o){
            isDrawing = true;
            var pointer = canvas.getPointer(o.e);
            var points = [ pointer.x, pointer.y, pointer.x, pointer.y ];
            line = new fabric.Line(points, {
                strokeWidth: 5,
                fill: 'black',
                stroke: 'black',
                originX: 'center',
                originY: 'center',
            });
            canvas.add(line);
        });

        canvas.on('mouse:move', function(o){
            if (!isDrawing) return;
            var pointer = canvas.getPointer(o.e);
            line.set({ x2: pointer.x, y2: pointer.y });
            canvas.renderAll();
        });

        canvas.on('mouse:up', function(o){
            isDrawing = false;
        });

        function addQuote() {
            var quote = document.getElementById('quoteinput').value;
            var text = new fabric.Text(quote, {
                left: 100,
                top: 100,
                fontSize: 20,
                fill: 'black'
            });
            canvas.add(text);
        }
    </script>
</body>
</html>